var app=angular.module("app",["ui.router","ui.bootstrap"]);app.run(["$rootScope","$state","$stateParams",function(e,t,a){e.$state=t,e.$stateParams=a}]),app.config(["$stateProvider","$urlRouterProvider","$locationProvider","NavData",function(e,t,a,o){a.html5Mode(!0).hashPrefix("!"),$.each(o,function(t,a){console.log(a),$.each(a.items,function(t,o){var l=o.state;e.state(l,{url:"/"+l,views:{content:{templateUrl:"html/"+a.state+"/"+l+".html",controller:"ctrl."+l}}})})})}]),angular.module("app").directive("appCode",[function(){return{restrict:"ECMA",scope:{},templateUrl:"html/common/code.html",link:function(e,t,a){},controller:["$scope","$http","$state","$rootScope",function(e,t,a,o){var l=e.vm={};o.$on("$stateChangeSuccess",function(e,a,o,n,r){var c=a.name,s=c.substring(0,c.indexOf("-"));t.get("/js/modules/"+s+"/"+c+".js").success(function(e){l.js=e}),t.get("/html/"+s+"/"+c+".html").success(function(e){l.html=e})})}]}}]),angular.module("app").directive("appNav",["NavData",function(e){return{restrict:"ECMA",scope:{},templateUrl:"html/common/nav.html",link:function(t,a,o){var l=t.vm={};l.data=e}}}]),angular.module("app").constant("NavData",[{label:"表单",state:"form",items:[{state:"form-basicCheck",label:"基本校验",description:"基本校验"}]},{label:"表格",state:"table",items:[{state:"table-complex",label:"表格综合",description:"表格综合"}]},{label:"基本控件",state:"controls",items:[{state:"controls-progress",label:"进度条",description:"进度条"},{state:"controls-select",label:"下拉框",description:"下拉框"},{state:"controls-radio",label:"单选框",description:"单选框"}]},{label:"常用应用场景",state:"scene",items:[{state:"scene-controller",label:"控制器通信(超实用)",description:"Controller之间的通信"},{state:"scene-router",label:"路由实例",description:"路由实例"},{state:"scene-directive",label:"自定义指令",description:"自定义指令"},{state:"scene-service",label:"服务",description:"服务"}]},{label:"Angular项目构建总结",state:"project",items:[{state:"project-dir",label:"目录结构",description:"目录结构"},{state:"project-module",label:"模块划分",description:"模块划分"},{state:"project-files",label:"文件命名",description:"文件命名"},{state:"project-process",label:"Angular执行流程",description:"Angular执行流程"}]}]),angular.module("app").controller("ctrl.controls-progress",["$scope",function(e){var t=e.vm={};t.value=50,t.style="progress-bar-info",t.showLabel=!0}]),angular.module("app").controller("ctrl.controls-radio",["$scope",function(e){var t=e.vm={};t.values=[{code:"a",age:30},{code:"b",age:50},{code:"c",age:44}],t.selection=t.values[1]}]),angular.module("app").controller("ctrl.controls-select",["$scope",function(e){var t=e.vm={};t.citys=[{pro:"四川",code:"sc",label:"四川省"},{pro:"北京",code:"bj",label:"北京市"},{pro:"上海",code:"sh",label:"上海市"}],t.selection=t.citys[0],t.codeValue="sc",t.groupedValue="sc",t.countries=[{label:"中国",flag:"cn.png",provinces:[{label:"北京",cities:[{label:"朝阳区"},{label:"宣武区"},{label:"海淀区"}]},{label:"河北",cities:[{label:"石家庄"},{label:"承德"},{label:"唐山"}]}]},{label:"美国",flag:"us.png",provinces:[{label:"纽约",cities:[{label:"曼哈顿区"},{label:"皇后区"}]},{label:"德克萨斯州",cities:[{label:"休斯顿"},{label:"达拉斯"}]},{label:"加利福尼亚州"}]}]}]),angular.module("app").controller("ctrl.form-basicCheck",["$scope","$state",function(e,t){var a=e.vm={show_error:!1,show_type:"1"};a.show_type_change=function(){alert(a.show_type)}}]),angular.module("app").controller("ctrl.scene-controller",["$scope",function(e){var t=e.vm={};t.booksCategory=["java","javascript"],t.selection="javascript",t.bookList={java:[{id:"01",name:"Java基础教程",price:49,author:"张孝祥"},{id:"02",name:"Java编程思想",price:79,author:"埃克尔"}],javascript:[{id:"03",name:"javascript语言精粹",price:89,author:"周爱明"},{id:"04",name:"javascript权威指南",price:99,author:"老外"}]},t.books=t.bookList[t.selection],t.changeBook=function(){t.books=t.bookList[t.selection]}}]).controller("ctrl.scene-controller-parent",["$scope",function(e){e.$on("Ctr1NameChange",function(t,a){console.log("parent",a),e.name_par=a,e.$broadcast("Ctr1NameChangeFromParrent",a)})}]).controller("ctrl.scene-controller-childOne",["$scope",function(e){e.change=function(t){console.log("子级1name",t),e.$emit("Ctr1NameChange",t)}}]).controller("ctrl.scene-controller-childTwo",["$scope",function(e){e.$on("Ctr1NameChangeFromParrent",function(t,a){console.log("childCtrl2",a),e.name_ch2=a})}]),angular.module("app").controller("ctrl.scene-router",["$scope",function(e){}]),angular.module("app").controller("ctrl.table-complex",["$scope","service.table",function(e,t){var a=e.vm={};a.list=function(){if(0!=window.localStorage.length){var e=window.localStorage,o={content:[]};o.content=JSON.parse(e.content),a.items=o.content}else t.list().then(function(e){a.items=e.data.content},function(e){console.log("err"+e)})},a.list(),a.totalItems=64,a.currentPage=1,a.IdMax,a.getIdMax=function(){for(var e=[],t=0;t<a.items.length;t++)e.push(parseInt(a.items[t].id));a.IdMax=Math.max.apply(null,e)},a.pageChanged=function(){console.log("Page changed to: "+e.currentPage)},a.checkAll=function(e){angular.forEach(a.items,function(t){t.$checked=e})},a.updateItem=function(e){var t=$("tr#"+e).find("td input[readonly='readonly']");angular.element(t).removeAttr("readonly").css({background:"#fff"}),angular.element(document).bind("click",function(o){0==$(o.target).closest("#"+e).length&&(angular.element(t).attr("readonly","readonly").css({background:"transparent"}),a.update())})},a.update=function(){window.localStorage.setItem("content",JSON.stringify(a.items))},a.addItem=function(){a.getIdMax(),e.addItem={id:a.IdMax+1,name:"",office:"",income:0}},a.addSubmit=function(){var o;0!=window.localStorage.length?(o=JSON.parse(window.localStorage.getItem("content")),o.push(e.addItem),a.items=o):t.list().then(function(t){o=t.data.content,o.push(e.addItem),a.items=o},function(e){console.log("err"+e)}),angular.element("#myModal").modal("hide"),a.update(),a.list()},a.deleteItem=function(e){for(var t,o=0;o<a.items.length;o++)if(a.items[o].id==e){t=o;break}a.items.splice(t,1),a.update(),a.list()}}]).service("service.table",["$http",function(e){return{list:function(){return e.get("/data/table.json")}}}]);